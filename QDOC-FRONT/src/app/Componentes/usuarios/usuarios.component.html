<div class="container">
  <h3>Usuarios</h3>
<div class="row">
    <div class="col-md-6">
        <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="500" height="300" viewBox="0 0 886.11499 652.3825" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M911,774.062v-72.34S939.19167,753.008,911,774.062Z" transform="translate(-156.9425 -123.80875)" fill="#f1f1f1"/><path d="M912.74147,774.0493l-53.28963-48.92125S916.297,739.04359,912.74147,774.0493Z" transform="translate(-156.9425 -123.80875)" fill="#f1f1f1"/><polygon points="191.188 0 63.729 0 0 110.382 63.729 220.765 191.188 220.765 254.917 110.382 191.188 0" fill="#e6e6e6"/><path d="M227.825,332.18352H340.977l56.576-97.99246L340.977,136.1986H227.825l-56.576,97.99246Z" transform="translate(-156.9425 -123.80875)" fill="#fff"/><circle cx="69.51589" cy="81.14999" r="5.22006" fill="#e2e2e2"/><circle cx="69.51589" cy="110.38231" r="5.22006" fill="#e2e2e2"/><circle cx="69.51589" cy="139.61462" r="5.22006" fill="#e2e2e2"/><rect x="91.44012" y="76.97395" width="99.18107" height="8.35209" fill="#e2e2e2"/><rect x="91.44012" y="106.20626" width="99.18107" height="8.35209" fill="#e2e2e2"/><rect x="91.44012" y="135.43858" width="99.18107" height="8.3521" fill="#e2e2e2"/><polygon points="822.386 0 694.927 0 631.198 110.382 694.927 220.765 822.386 220.765 886.115 110.382 822.386 0" fill="#e6e6e6"/><path d="M859.0228,332.18352h113.152l56.576-97.99246-56.576-97.99246H859.0228l-56.576,97.99246Z" transform="translate(-156.9425 -123.80875)" fill="#fff"/><circle cx="700.71368" cy="81.14999" r="5.22005" fill="#e2e2e2"/><circle cx="700.71368" cy="110.38231" r="5.22005" fill="#e2e2e2"/><circle cx="700.71368" cy="139.61462" r="5.22005" fill="#e2e2e2"/><rect x="722.63794" y="76.97395" width="99.18103" height="8.35209" fill="#e2e2e2"/><rect x="722.63794" y="106.20626" width="99.18103" height="8.35209" fill="#e2e2e2"/><rect x="722.63794" y="135.43858" width="99.18103" height="8.3521" fill="#e2e2e2"/><polygon points="506.167 1.072 379.946 1.072 316.836 110.382 379.946 219.693 506.167 219.693 569.279 110.382 506.167 1.072" fill="#e6e6e6"/><path d="M543.97324,331.23189H656.0264L712.053,234.19107,656.0264,137.15024H543.97324l-56.02655,97.04082Z" transform="translate(-156.9425 -123.80875)" fill="#fff"/><circle cx="385.6774" cy="81.43388" r="5.16936" fill="#00b0ff"/><circle cx="385.6774" cy="110.38231" r="5.16936" fill="#00b0ff"/><circle cx="385.6774" cy="139.33073" r="5.16936" fill="#00b0ff"/><rect x="407.3887" y="77.29839" width="98.2179" height="8.27098" fill="#00b0ff"/><rect x="407.3887" y="106.24682" width="98.2179" height="8.27098" fill="#00b0ff"/><rect x="407.3887" y="135.19525" width="98.2179" height="8.27098" fill="#00b0ff"/><polygon points="550.665 639.737 538.405 639.736 532.573 592.448 550.667 592.449 550.665 639.737" fill="#9f616a"/><path d="M710.73392,775.42958l-39.53076-.00146v-.5a15.38731,15.38731,0,0,1,15.38648-15.38623h.001l24.144.001Z" transform="translate(-156.9425 -123.80875)" fill="#2f2e41"/><polygon points="664.665 639.737 652.405 639.736 646.573 592.448 664.667 592.449 664.665 639.737" fill="#9f616a"/><path d="M824.73392,775.42958l-39.53076-.00146v-.5a15.38731,15.38731,0,0,1,15.38648-15.38623h.001l24.144.001Z" transform="translate(-156.9425 -123.80875)" fill="#2f2e41"/><path d="M702.72093,523.57062s-10.29059,27.93152-8.8205,39.69214-10.29053,94.08515-8.82049,101.43555-1.4701,44.10242,0,49.98273-4.126,12.904-1.18583,18.78433,7.06614,17.96768,7.06614,17.96768l19.111-1.47009,2.94018-16.1709s8.8205-1.47009,7.35041-10.29059,7.3504-67.62366,7.3504-67.62366l24.99133-82.32446,35.28192,74.97406s1.4701,52.92285,5.88031,58.80316-4.41021,22.05121,0,27.93152,8.8205,16.1709,8.8205,16.1709h22.05121V739.67237s13.23071-7.3504,0-29.40161l-8.94019-132.42688-8.82049-60.27326Z" transform="translate(-156.9425 -123.80875)" fill="#2f2e41"/><circle cx="600.5805" cy="187.45592" r="27.45748" fill="#a0616a"/><path d="M734.15719,309.37058q2.90616,7.42524,5.81249,14.85045c2.38187,6.0855,5.10983,12.59627,10.693,15.99248,6.89335,4.19321,16.09891,2.14859,22.76738-2.39371a35.55267,35.55267,0,0,0-16.0025-64.70912l-.27595,4.97045-6.09928-5.11247a5.92961,5.92961,0,0,1-9.21737,1.30354c1.6022,3.32109-.24695,7.37161-2.91728,9.91573-3.28072,3.12533-12.66394,6.88145-12.27456,12.46855C726.903,300.3849,732.64485,305.50673,734.15719,309.37058Z" transform="translate(-156.9425 -123.80875)" fill="#2f2e41"/><path d="M833.10409,564.18693a11.62612,11.62612,0,0,0-4.98194-17.117l.54864-26.56207-16.06038-4.27033-.24794,37.52166a11.68914,11.68914,0,0,0,20.74162,10.42776Z" transform="translate(-156.9425 -123.80875)" fill="#9f616a"/><path d="M777.91953,355.69214s-21.27734-10.63867-41.37262-3.54623-30.734,15.367-30.734,15.367l13.00281,68.56037-17.73108,92.20187s91.01984-7.09247,99.29431,0,8.27454-8.27453,8.27454-8.27453L801.561,432.527l13.00287-55.55752Z" transform="translate(-156.9425 -123.80875)" fill="#3f3d56"/><path d="M688.11533,565.75982a11.62611,11.62611,0,0,0,.02419-17.82727l7.98411-25.33966-14.21547-8.60767-10.77251,35.94287a11.68915,11.68915,0,0,0,16.97968,15.83173Z" transform="translate(-156.9425 -123.80875)" fill="#9f616a"/><path d="M714.08744,367.51291H705.8129s-13.00284,8.27454-13.00284,20.09528-18.91317,150.12363-18.91317,150.12363l20.09527,3.5462,17.73114-96.93021,13.00287-26.00567Z" transform="translate(-156.9425 -123.80875)" fill="#3f3d56"/><path d="M792.10447,376.96952h22.45941s7.09247,7.09244,10.63867,23.64151,7.09247,81.5632,7.09247,81.5632L829.93088,541.278H812.19974l-2.36413-76.8349L798.01487,414.796Z" transform="translate(-156.9425 -123.80875)" fill="#3f3d56"/><path d="M961.78346,776.19125h-381a1,1,0,0,1,0-2h381a1,1,0,0,1,0,2Z" transform="translate(-156.9425 -123.80875)" fill="#cbcbcb"/></svg>
    </div>
    <div class="col-md-6">
        <button type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" class="boton"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
            <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
          </svg> Agregar usuario</button>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
  <div class="offcanvas-header">
    <h5 id="offcanvasRightLabel">Agregar usuario</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form>
        <div class="mb-3">
          <label class="form-label">Username</label>
          <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.username" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
          <label class="form-label">Correo</label>
          <input type="email" class="form-control" autofocus autocomplete required [(ngModel)]="elements.email" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
          <label class="form-label">Contraseña</label>
          <input type="password" class="form-control" autofocus autocomplete required [(ngModel)]="elements.password" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.nombre" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Apellidos</label>
            <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.apellidos" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Departamentos</label>
            <select id="departamentos-sl" class="form-select" *ngFor="let departamento of departamentos" autofocus autocomplete required [(ngModel)]="elements.departamento" required [ngModelOptions]="{standalone: true}">
              <option value="{{departamento.id}}">{{departamento.nombre}}</option>
            </select>
          </div>
        <button class="btn btn-primary" (click)="registrarUser()">Guardar cambios</button>
      </form>
  </div>
</div>
    </div>

</div>
<br>
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th>Username</th>
            <th>Correo</th>
            <th>Departamento</th>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Opciones</th>
        </tr>
    </thead>

    <tbody *ngFor="let usuario of usuarios">
      <td>{{usuario.username}}</td>
      <td>{{usuario.email}}</td>
      <td>{{usuario.nombre}}</td>
      <td>{{usuario.depa}}</td>
      <td>{{usuario.apellidos}}</td>
      <td>
        <div class="row">
          <div class="col-md-6 col-sm-12">
            <button type="button" class="boton-editar" (click)="editarUser(usuario)" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight2" aria-controls="offcanvasRight">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
              </svg>
            </button>
          </div>
          <div class="col-md-6 col-sm-12">
            <button type="button" class="boton-eliminar" (click)="eliminarUser(usuario.id)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
              </svg>
            </button>
          </div>
        </div>
      </td>
    </tbody>
  </table>

  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight2" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">Editar usuario</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <form>
        <div class="mb-3">
          <label class="form-label">Username</label>
          <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.username" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
          <label class="form-label">Correo</label>
          <input type="email" class="form-control" autofocus autocomplete required [(ngModel)]="elements.email" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
          <label class="form-label">Contraseña</label>
          <input type="password" class="form-control" autofocus autocomplete required [(ngModel)]="elements.password" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.nombre" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Apellidos</label>
            <input type="text" class="form-control" autofocus autocomplete required [(ngModel)]="elements.apellidos" required [ngModelOptions]="{standalone: true}">
        </div>
        <div class="mb-3">
            <label class="form-label">Departamentos</label>
            <select id="departamentos-sl" class="form-select" *ngFor="let departamento of departamentos" autofocus autocomplete required [(ngModel)]="elements.departamento" required [ngModelOptions]="{standalone: true}">
              <option value="{{departamento.id}}">{{departamento.nombre}}</option>
            </select>
          </div>
        <button class="btn btn-primary" (click)="ActualizarUser()">Actualizar</button>
      </form>
    </div>
  </div>
</div>


  
